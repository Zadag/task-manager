(()=>{"use strict";const e=[],t=(t,d,o)=>{e.push(((e,t,d)=>({projId:d,title:e,desc:t,selected:!1,todoArr:[]}))(t,d,o))},d=(e,t,d,n,c)=>{e.todoArr.push({todoId:o(),projId:t,title:d,desc:n,date:c,completed:!1})},o=()=>"_"+Math.random().toString(36).substr(2,9),n=t=>{let d={};return e.forEach((e=>{e.projId===t&&(d=e)})),d},c=(e=0,d=0)=>{const c=document.querySelector("#content");document.querySelector(".new-project").removeEventListener;const l=document.createElement("div"),i=document.createElement("input"),r=document.createElement("textarea"),p=document.createElement("div"),m=document.createElement("button"),u=document.createElement("button");if(l.classList.add("new-project-modal"),i.classList.add("new-project-modal-title"),r.classList.add("new-project-modal-description"),p.classList.add("new-project-modal-buttons"),m.classList.add("new-project-modal-submit"),u.classList.add("new-project-modal-cancel"),e&&d){console.log("edit and projId are truthy");const e=n(d);i.value=e.title,r.value=e.desc}i.setAttribute("placeholder","Project Name"),r.setAttribute("placeholder","Project Description"),m.textContent="Submit",u.textContent="Cancel",c.appendChild(l),l.appendChild(i),l.appendChild(r),l.appendChild(p),p.appendChild(m),p.appendChild(u);const h=()=>{for(;l.firstChild;)l.removeChild(l.lastChild);c.removeChild(l)};m.addEventListener("click",(()=>{e&&((e,t,d)=>{console.log("editing project object");const o=n(e);console.log(t),console.log(o),o.title=t,o.desc=d,console.log(o)})(d,i.value,r.value),e||d||t(i.value,r.value,o()),a(),s(d),h()})),u.addEventListener("click",h)},l=t=>{var d;"project-button"===t.target.getAttribute("class")&&(d=t.target.getAttribute("data-id"),e.forEach((e=>{e.projId===d?e.selected=!0:e.selected=!1})),a(),s(t.target.getAttribute("data-id")))},a=()=>{(()=>{const e=document.querySelectorAll(".project"),t=document.querySelector("#projects-container");e.forEach((e=>{t.removeChild(e)}))})(),(()=>{for(let t=0;t<e.length;t++){const d=document.querySelector("#projects-container"),o=document.createElement("div"),n=document.createElement("button");n.setAttribute("data-id",e[t].projId),o.classList.add("project"),!0===e[t].selected?n.classList.add("project-button-selected"):n.classList.add("project-button"),d.appendChild(o),o.appendChild(n),n.textContent=e[t].title,n.addEventListener("click",l)}})(),console.log(e)},s=e=>{if(console.log(`this is projectId ${e}`),r(),n(e)){const t=n(e),d=t.title,o=t.desc,c=t.todoArr;p(d,o,e),i(c)}},i=e=>{e.forEach((e=>{console.log(e);const t=document.querySelector("#todos-container"),d=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div"),a=document.createElement("p"),i=document.createElement("p"),r=document.createElement("img"),p=document.createElement("img");d.classList.add("todo"),d.setAttribute("data-id",e.todoId),o.classList.add("todo-left"),c.classList.add("todo-right"),!0===e.completed?l.classList.add("checked-off"):l.classList.add("check-it-off"),a.classList.add("todo-title"),i.classList.add("due-date"),r.classList.add("todo-icon"),p.classList.add("todo-icon"),r.src="icons/edit.png",p.src="icons/trash.png",a.textContent=e.title,i.textContent=e.date,t.appendChild(d),d.appendChild(o),d.appendChild(c),o.appendChild(l),o.appendChild(a),c.appendChild(i),c.appendChild(r),c.appendChild(p),l.addEventListener("click",(()=>{console.log(),((e,t)=>{let d=n(e).todoArr.find((e=>e.todoId===t));!1===d.completed?d.completed=!0:d.completed=!1})(e.projId,e.todoId),s(e.projId)})),r.addEventListener("click",(()=>{document.querySelector("todo-modal-conatiner")||((e,t)=>{const d=n(e),o=((e,t)=>e.todoArr.find((e=>e.todoId===t)))(d,t),c=document.querySelector("#content"),l=document.createElement("div"),a=document.createElement("input"),i=document.createElement("textarea"),r=document.createElement("input"),p=document.createElement("button"),m=document.createElement("button"),u=document.createElement("div");l.classList.add("todo-modal-container"),a.classList.add("todo-modal-title"),i.classList.add("todo-modal-desc"),r.classList.add("todo-modal-date"),p.classList.add("todo-modal-submit"),m.classList.add("todo-modal-cancel"),u.classList.add("todo-modal-buttons"),a.type="text",r.type="date",a.value=o.title,o.desc?i.value=o.desc:i.placeholder="description",p.textContent="Submit",m.textContent="Cancel",c.appendChild(l),l.appendChild(a),l.appendChild(i),l.appendChild(r),l.appendChild(u),u.appendChild(p),u.appendChild(m),p.addEventListener("click",(()=>{((e,t,d,o,n)=>{let c=e.todoArr.find((e=>e.todoId===t));c.title=d,c.desc=o,c.date=n})(d,t,a.value,i.value,r.value),s(e),c.removeChild(l)})),m.addEventListener("click",(()=>{c.removeChild(l)}))})(e.projId,e.todoId),console.log("edit")})),p.addEventListener("click",(()=>{((e,t)=>{let d=n(e),o=d.todoArr.findIndex((e=>e.todoId===t));d.todoArr.splice(o,1)})(e.projId,e.todoId),s(e.projId),console.log("delete")}))}))},r=()=>{const e=document.querySelector("#todos-container");for(;e.firstChild;)e.removeChild(e.firstChild)},p=(t,o,l)=>{const i=document.querySelector("#todos-container");console.log(l);const p=document.createElement("div"),m=document.createElement("button"),u=document.createElement("button"),h=document.createElement("div"),C=document.createElement("p"),E=document.createElement("p"),L=document.createElement("button");p.classList.add("todo-project-buttons"),m.classList.add("todo-project-edit"),u.classList.add("todo-project-delete"),h.classList.add("todo-project-details"),C.classList.add("todo-project-header"),E.classList.add("todo-project-about"),L.classList.add("new-todo-button"),i.appendChild(h),i.appendChild(p),i.appendChild(L),h.appendChild(C),h.appendChild(E),p.appendChild(m),p.appendChild(u),C.textContent=t,E.textContent=o,L.textContent="Add a task",m.textContent="Edit this project",u.textContent="Delete this project",m.addEventListener("click",(()=>{c(!0,l)})),u.addEventListener("click",(()=>{(t=>{let d=e.findIndex((e=>e.projId===t));e.splice(d,1),console.log(e)})(l),a(),r()})),L.addEventListener("click",(()=>{console.log(l),(e=>{const t=document.querySelector(".new-todo-button"),o=document.querySelector("#todos-container"),c=document.createElement("div"),l=document.createElement("input"),a=document.createElement("textarea"),i=document.createElement("input"),r=document.createElement("button"),p=document.createElement("button"),m=document.createElement("div");c.classList.add("todo-modal-container"),l.classList.add("todo-modal-title"),a.classList.add("todo-modal-desc"),i.classList.add("todo-modal-date"),r.classList.add("todo-modal-submit"),p.classList.add("todo-modal-cancel"),m.classList.add(".todo-modal-buttons"),l.type="text",i.type="date",l.placeholder="title",a.placeholder="description",r.textContent="Submit",p.textContent="Cancel",t.parentNode.insertBefore(c,t.nextSibling),c.appendChild(l),c.appendChild(a),c.appendChild(i),c.appendChild(m),m.appendChild(r),m.appendChild(p),r.addEventListener("click",(()=>{if(""===l.value.trim())return alert("Please enter a title");const t=n(e);d(t,e,l.value,a.value,i.value),s(e)})),p.addEventListener("click",(()=>{o.removeChild(c)}))})(l)}))};document.querySelector("#content"),document.querySelector(".new-project").addEventListener("click",(()=>{document.querySelector(".new-project-modal")||c()})),t("Default","This is a default project",o()),d(e[0],e[0].projId,"test","testing","date"),console.log(`this is projectId ${e[0].projId}`),a()})();